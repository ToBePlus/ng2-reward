import {Component} from 'angular2/core';
import {ROUTER_DIRECTIVES, Router} from 'angular2/router';

import {RewardType, RewardTypeService} from '../../services/RewardType.service';

@Component({
    selector: 'create',
    templateUrl: './reward/controllers/create/template.html',
    styleUrls: ['./reward/controllers/create/style.css'],
    directives: [ROUTER_DIRECTIVES],
    providers: [RewardTypeService],
})

export class CreateComponent {
    list: RewardType[];
    type: number;

    constructor(private rt: RewardTypeService,private router: Router) {

    }

    ngOnInit() {
        this.rt.getRewardtypes().then(list => this.list = list);
    }

    onSelect(item:RewardType) {
        if(item.status===0) return;
        this.rt.updateChecked(item.type);
    }

    routerUrl(type:number){
      let router;
      switch (type) {
          case 1: router = 'ShowAdd';
              break;
          case 2: router = 'PinAdd';
              break;
          case 3: router = '/baccarat/add';
              break;
          case 4: router = '/create';
              break;
          case 5: router = '/create';
              break;
          case 6: router = '/create';
              break;
          case 7: router = '/create';
              break;
          case 8: router = '/create';
              break;
          default:
              router = '/create';
      }
      console.log(router);
      this.router.navigate([router]);
    }

    redirectTo() {
        this.rt.getSelectedItem().then(data => this.routerUrl(data.type));
    }


}
