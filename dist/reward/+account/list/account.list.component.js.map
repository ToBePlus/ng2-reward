{"version":3,"file":"account.list.component.js","sourceRoot":"","sources":["../../../../../../../src/reward/+account/list/account.list.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uBAAwB,eAAe,CAAC,CAAA;AACxC,yBAA4E,iBAAiB,CAAC,CAAA;AAC9F,yBAAuC,iBAAiB,CAAC,CAAA;AACzD,uBAA6C,eAAe,CAAC,CAAA;AAC7D,QAAO,SAAS,CAAC,CAAA;AAIjB,kCAA6B,oBAAoB,CAAC,CAAA;AAWlD;IAKE,YAAoB,EAAkB,EAAU,MAAc;QAA1C,OAAE,GAAF,EAAE,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAC5D,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,IAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,KAAK,IAAE,IAAI,CAAC,YAAY,CAAC,CAAA;IACxF,CAAC;IAED,QAAQ,CAAC,OAAO;QACd,EAAE,CAAA,CAAC,OAAO,CAAC,aAAa,KAAG,QAAQ,CAAC,CAAA,CAAC;YACnC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACzB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI;YAC3C,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,EAAC,KAAK,IAAE,IAAI,CAAC,YAAY,CAAC,CAAA;IAC7B,CAAC;IAED,OAAO,CAAC,IAAI;QACV,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACzB,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtB,MAAM,CAAC;QACX,CAAC;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC;IAED,MAAM;QACF,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;AACH,CAAC;AAvDD;IAAC,gBAAS,CAAC;QACP,QAAQ,EAAE,cAAc;QACxB,WAAW,EAAC,oCAAoC;QAChD,SAAS,EAAC,CAAC,oCAAoC,CAAC;QAChD,UAAU,EAAE,CAAC,0BAAiB,EAAC,wBAAe,EAAC,cAAK,EAAC,iBAAQ,EAAE,qBAAY,EAAE,wBAAe,CAAC;QAC7F,SAAS,EAAE,CAAC,gCAAc,EAAC,qBAAc,CAAC;KAC7C,CAAC;;wBAAA;AAEW,4BAAoB,uBA+ChC,CAAA","sourcesContent":["import {Component} from '@angular/core';\nimport {CORE_DIRECTIVES,NgFor,NgSwitch, NgSwitchWhen, NgSwitchDefault} from '@angular/common';\nimport {ROUTER_DIRECTIVES,Router} from '@angular/router';\nimport {Http, Response, HTTP_PROVIDERS} from '@angular/http';\nimport 'rxjs/Rx';\nimport { Observable } from 'rxjs/Observable';\nimport * as moment from 'moment';\n\nimport {AccountService} from '../Account.service';\nimport {Validators} from '../../services/Validators';\n\n@Component({\n    selector: 'account-list',\n    templateUrl:'reward/+account/list/template.html',\n    styleUrls:['reward/+account/list/style.min.css'],\n    directives: [ROUTER_DIRECTIVES,CORE_DIRECTIVES,NgFor,NgSwitch, NgSwitchWhen, NgSwitchDefault],\n    providers: [AccountService,HTTP_PROVIDERS]\n})\n\nexport class AccountListComponent{\n  list:any;\n  params:any;\n  errorMessage:any;\n  page:any;\n  constructor(private as: AccountService, private router: Router) {\n    this.params = {};\n    this.params.currentPage = 0;\n    this.params.pageSize = 10;\n  }\n\n  ngOnInit(){\n    this.getList();\n  }\n\n  getList(){\n    this.as.list(this.params).subscribe(data=>this.setList(data),error=>this.errorMessage)\n  }\n\n  onDelete(subUser){\n    if(subUser.delSubmitText!=='delete'){\n      alert('正确填写确认信息,delete');\n      return;\n    }\n    this.as.delete(subUser.cRCUId).subscribe(data=>{\n      alert(data.error.msg);\n      this.getList();\n    },error=>this.errorMessage)\n  }\n\n  setList(data){\n    if (data.error.state !== 0) {\n        alert(data.error.msg);\n        return;\n    }\n    this.params = data.params;\n    this.list=data.data.list;\n    this.page=data.data.page;\n  }\n\n  toHome(){\n    this.router.navigate(['/']);\n  }\n\n  goBack() {\n      window.history.back();\n  }\n}\n"]}